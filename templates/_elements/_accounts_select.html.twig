<div data-controller="accounts-select-dropdown">
	<div class="relative">
		<button type="button" class="relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm sm:leading-6" data-action="click->accounts-select-dropdown#toggleMenu" data-accounts-select-dropdown-target="button" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="listbox-label">
			<span class="flex items-center">
				<img src="{{ asset(selected_account.bank.logo) }}" alt="{{ selected_account.bank.brand }}" class="h-6 w-6 rounded-lg"/>
				<span class="ml-2 truncate font-semibold" data-accounts-select-dropdown-target="selectedText">{{ selected_account.name }}</span>
			</span>
			<span class="pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2">
				<svg class="h-5 w-5 text-gray-400" viewbox="0 0 20 20" fill="currentColor" aria-hidden="true">
					<path fill-rule="evenodd" d="M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z" clip-rule="evenodd"/>
				</svg>
			</span>
		</button>

		<!-- Dropdown menu -->
		<ul class="absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm hidden" data-accounts-select-dropdown-target="menu" role="listbox" aria-labelledby="listbox-label">
			{% for account in user_accounts %}
				<li class="relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900" role="option" data-account-id="{{ account.id }}" data-account-name="{{ account.name }}" data-account-icon="LP" data-action="click->accounts-select-dropdown#selectOption" data-accounts-select-dropdown-target="option">
					<div class="flex items-center">
						<img src="{{ asset(account.bank.logo) }}" alt="{{ account.bank.brand }}" class="h-6 w-6 rounded-lg"/>
						<span class="ml-3 block truncate font-normal">{{ account.name }}</span>
					</div>
					{% if account.main %}
						<span class="absolute inset-y-0 right-0 flex items-center pr-4 text-indigo-600">
							<svg class="h-5 w-5" viewbox="0 0 20 20" fill="currentColor" aria-hidden="true">
								<path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z" clip-rule="evenodd"/>
							</svg>
						</span>
					{% endif %}
				</li>
			{% endfor %}
			<li class="rounded-lg border-2 border-dashed border-gray-300 mx-2">
				<a href="{{ path('app_account_new') }}" class="group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 text-gray-700 hover:bg-gray-50 hover:text-violet-600">
					<svg class="h-6 w-6 shrink-0 text-gray-400 group-hover:text-violet-600" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
					</svg>
					Add another account
				</a>
			</li>

			<!-- Account Option 2 -->
			{# <li class="relative cursor-default select-none py-2 pl-3 pr-9 bg-indigo-600 text-white" role="option" data-account-id="2" data-account-name="Crédit Agricole" data-account-icon="CA" data-action="click->accounts-select-dropdown#selectOption" data-accounts-select-dropdown-target="option">
			                <div class="flex items-center">
			                    <span class="flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border border-gray-200 bg-gray-100 text-[0.625rem] font-medium text-gray-400">CA</span>
			                    <span class="ml-3 block truncate font-semibold">Crédit Agricole</span>
			                </div>
			            </li> #}
		</ul>
	</div>
</div>
